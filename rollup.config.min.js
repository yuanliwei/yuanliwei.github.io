// rollup.config.min.js

import defaultConfig from './rollup.config';
import sass from 'rollup-plugin-sass';
import { terser } from "rollup-plugin-terser";

import spa from './rollup-plugin-spa.js';
import copy from './rollup-plugin-copy.js';

export default Object.assign({}, defaultConfig, {
  output: {
    file: defaultConfig.output.file,
    format: defaultConfig.output.format,
  },
  plugins: [...defaultConfig.plugins.slice(0, 5), sass({
    insert: true,
    options: { outputStyle: 'compressed' }
  }), terser(), spa(), copy()]
});